<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions" xmlns:c="http://java.sun.com/jsp/jstl/core">
    <ui:composition template="../templates/pages/layout.xhtml">
        <ui:define name="content-header">
            <div data-pages="parallax">
                <div class=" container container-fixed-lg">
                    <div class="inner">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item active">Anasayfa</li>
                        </ol>
                    </div>
                </div>
            </div>
        </ui:define>
        <ui:define name="content">
            <h:outputStylesheet> 
                .column1 { width: 300px; }
                .column2 { width: 500px; }
            </h:outputStylesheet>
            <div class="row ">
                <div class="col-md-12">
                    <div class="card card-default">
                        <div class="card-header separator">
                            <div class="card-title">Taleplerim</div>
                        </div>
                        <div class="card-body">
                            <div class="auto-overflow widget-11-2-table">
                                <h:dataTable id="datatable" styleClass="table" var="rowData" value="#{taleplerBean.taleplerList}">

                                    <h:column>
                                        <f:facet name="header">
                                            <h:panelGrid columns="2">
                                                <h:outputText value="Talep" />
                                            </h:panelGrid>
                                        </f:facet>
                                        <a href="#{request.contextPath}/view/talepDetay.xhtml?kod=#{rowData.talep_id}" title="Detay için tıklayınız">#{rowData.talep_id}</a>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:panelGrid columns="2">
                                                <h:outputText value="Konu" />
                                            </h:panelGrid>
                                        </f:facet>
                                        <h:outputText value="#{rowData.talep_konu}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:panelGrid columns="2">
                                                <h:outputText value="Mesaj" />
                                            </h:panelGrid>
                                        </f:facet>
                                        <h:outputText value="#{rowData.talep_mesaj}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:panelGrid columns="2">
                                                <h:outputText value="Durum" />
                                            </h:panelGrid>
                                        </f:facet>
                                        <p:outputPanel rendered="#{rowData.talep_durum eq 'Açık'}">
                                            <span class="label label-success">Açık</span>
                                        </p:outputPanel>
                                        <p:outputPanel rendered="#{rowData.talep_durum eq 'Kapalı'}">
                                            <span class="label label-default">Kapalı</span>
                                        </p:outputPanel>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:panelGrid columns="2">
                                                <h:outputText value="Oluşturulma Tarihi" />
                                            </h:panelGrid>
                                        </f:facet>
                                        <h:outputText value="#{rowData.talep_tarih}">
                                            <f:convertDateTime pattern="dd.MM.yyyy HH:mm" />
                                        </h:outputText>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:panelGrid columns="2">
                                                <h:outputText value="Öncelik" />
                                            </h:panelGrid>
                                        </f:facet>
                                        <p:outputPanel rendered="#{rowData.talep_oncelik eq 'Normal'}">
                                            <span class="label label-success">Normal</span>
                                        </p:outputPanel>
                                        <p:outputPanel rendered="#{rowData.talep_oncelik eq 'Yüksek'}">
                                            <span class="label label-danger">Yüksek</span>
                                        </p:outputPanel>
                                        <p:outputPanel rendered="#{rowData.talep_oncelik eq 'Kritik'}">
                                            <span class="label label-critical">Kritik</span>
                                        </p:outputPanel>
                                    </h:column>
                                </h:dataTable>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </ui:define>
    </ui:composition>
</html>